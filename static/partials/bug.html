<div class="titlearea">
    <form ng-submit="submitTitle()" class="form-inline">
        {{bug.id}} -
        <span class="title" ng-hide="editingTitle" ng-click="editTitle()">{{bug.title}}
            <i class="icon-pencil"></i>
        </span>
        <input class="title-input" ng-show="editingTitle" name="titleInput" ng-model="bug.title">
        <input class="btn btn-medium" ng-show="editingTitle" type="submit" value="OK">
    </form>
</div>

<cb-markdown ng-model="$parent.bug.description"></cb-markdown>

<p>
<form class="form-inline">
Status:
<select class="status" ng-model="bug.status" ng-options="state for state in allStates">
</select>
</form>
<div class="tags">
    <form class="form-inline">
        Tags:
        <button ng-click="killTag(tag)"
            ng-repeat="tag in bug.tags" class="tag btn btn-mini btn-success">{{tag}} <i class="icon-white icon-remove"></i>
        </button>
        <input type="text" ui-keypress="{'enter space':'addTags($event)'}" ng-model="newtag" class="input-small"/>
    </form>
</div>
</p>

<p>
Filed {{bug.created_at | relDate}} by {{bug.creator}}.
</p>

<h3>History</h3>
<ul class="unstyled">
    <li ng-repeat="hi in history">
    <span ng-show="hi.ModInfo.by">
      <img ng-src="http://www.gravatar.com/avatar/{{hi.ModInfo.byhash}}?s=16">
      {{hi.ModInfo.by}}
    </span>
    <span ng-hide="hi.ModInfo.by"><em>somebody</em></span>
    changed
    <span ng-show="hi.ModInfo.type"><tt>{{hi.ModInfo.type}}</tt></span>
    <span ng-hide="hi.ModInfo.type">(unknown)</span>
    {{hi.Timestamp | relDate}}
    </li>
</ul>
